<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Market Research Assistant</title>
</head>
<body>
    <h1>Market Research Assistant</h1>

    <form id="industryForm">
        <label for="industry">Enter Industry Name:</label><br>
        <input type="text" id="industry" name="industry" required><br>

        <label for="modelType">Select Model Type:</label><br>
        <select id="modelType">
            <option value="linear_regression">Linear Regression</option>
            <option value="random_forest">Random Forest</option>
            <option value="neural_network">Neural Network</option>
        </select><br>

        <button type="button" onclick="runPredictiveAnalysis()">Run Predictive Analysis</button>
    </form>

    <div id="result"></div>

    <script>
        function runPredictiveAnalysis() {
            let industry = document.getElementById("industry").value;
            let modelType = document.getElementById("modelType").value;

            fetch("/train_model", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: `industry=${industry}&model_type=${modelType}`
            })
            .then(response => response.json())
            .then(data => {
                let resultDiv = document.getElementById("result");
                resultDiv.innerHTML = `<p>${data.message || "Predictive analysis completed."}</p>`;
                if (data.download_model) {
                    resultDiv.innerHTML += `<p><a href="${data.download_model}" download>Download Trained Model</a></p>`;
                }
                if (data.download_script) {
                    resultDiv.innerHTML += `<p><a href="${data.download_script}" download>Download Python Script</a></p>`;
                }
            })
            .catch(error => console.error("Error running predictive analysis:", error));
        }
    </script>
</body>
</html>
